<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <style>
      body {
        background: #fafafa;
      }
    </style>
  </head>
  <body>
    <h2>Demo 1</h2>
    <qr-code text="https://mi.url.com" showtext></qr-code>

    <h2>Demo 2</h2>
    <textarea id="msg" rows="3" cols="57">Texto a codificar</textarea>
    <div>
      Nivel de corrección de Error:
      <select id="eCL">
        <option selected>L</option>
        <option>M</option>
        <option>Q</option>
        <option>H</option>
      </select>
      <label for="tN">Tamaño (1-10):</label>
      <input type="text" value="1" id="tN" size="7" />

      <select id="sT">
        <option value="true">Mostrar texto</option>
        <option value="false" selected>Ocultar texto</option>
      </select>
    </div>
    <labe for="genBtn">Generar nuevo QR: </label>
    <input type="button" value="Generar" id="genBtn" />
    <qr-code id="qrcode2"></qr-code>
    <script>
      function generateQR() {
        const text = document.getElementById('msg').value;
        const qr = document.getElementById('qrcode2');
        let typeNumber = document.getElementById('tN').value;
        const showText = (document.getElementById('sT').value === 'true');
        typeNumber = typeNumber > 10 ? 10 : typeNumber;
        typeNumber = typeNumber < 1 ? 1 : typeNumber;
        const errorCorrectLevel = document.getElementById('eCL').value;
        qr.setShowText(showText);
        qr.updateQrcode(text, typeNumber, errorCorrectLevel);
      };
      document.getElementById('genBtn').onclick = generateQR;
    </script>
    <script type="module" src="../qr-code.js"></script>
  </body>
</html>
